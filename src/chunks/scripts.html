
<!--Include Scripts-->
<script defer src="https://use.fontawesome.com/releases/v5.14.0/js/all.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js"></script>

<script>    
    var tl = gsap.timeline();
    var tl2 = gsap.timeline();
    var tl3 = gsap.timeline();
    var tl4 = gsap.timeline();

    gsap.registerPlugin(ScrollTrigger);
    gsap.registerPlugin(MotionPathPlugin);
    gsap.registerPlugin(CSSRulePlugin);

 //   gsap.from(".sensor_pic", 5, {y: 20, ease: Elastic.easeOut.config(1, 0.3), y:-25, delay: 20});
    gsap.from(".home_text-light", 2, {opacity: 0, y:-25, delay: 3});
    gsap.from(".home_text-colored", 2, {opacity: 0, y:-25, delay: 6});
    gsap.from(".arrow_down", 5, {ease: Elastic.easeOut.config(2, 0.2), y:-5, duration: 30, delay: 10});
    
    tl.fromTo(".sensor_pic", {scale: 1}, {scale: 0.25, x: 65, y: 955, rotationY: 10, skewY: 2,duration: 30, delay: 10})
    .to(".sensor_pic", {opacity: 0});
        
    
    tl2.to(".transp_man_pic", 25, {opacity: 0, ease: Circ.easeOut, y: -10, duration: 60, delay: 10}, "+=25")
    .set("#logo_screen", {opacity: 0})   
    .fromTo(".colored_man_pic", {opacity: 0}, {opacity: 1, ease: Circ.easeOut, y: 10, duration: 30, delay: 5}, "+=5")
    .fromTo("#transparent_Sensor_belt", {opacity: 0.7}, {opacity: 0.6, duration: 60})
    .fromTo("#transparent_Sensor_belt", {opacity: 0.7}, {opacity: 0, duration: 60})
    .fromTo("#transparent_Sensor_belt", {opacity: 0.2}, {opacity: 0.6, duration: 60})
    .fromTo("#transparent_Sensor_belt", {opacity: 0.7}, {opacity: 0.6, duration: 60})
    .from("#device_light_window", {opacity:0, delay: 1, scale: .2, transformOrigin:'bottom', duration: 30}, "=.5")
    .from("#heartrate_line", {opacity:0, ease: Elastic.easeOut.config(1 , 0.3), y: -120, duration: 30}, "=1")
    .from("#icon_1", {opacity:0, delay: 1, scale: .2, transformOrigin:'bottom', duration: 30}, "=1")
    .from("#icon_2", {opacity:0, delay: 1, scale: .2, transformOrigin:'bottom', duration: 30}, "=1")
    .from("#icon_3", {opacity:0, delay: 1, scale: .2, transformOrigin:'bottom', duration: 30}, "=1");
    

    ScrollTrigger.create({
        animation: tl,
        trigger: "#animated-section",
        start: "top center",
        scrub: 0.5,
        duration: 20
    // pin: true
    });

    ScrollTrigger.create({
    animation: tl2,
    trigger: "#animated-section2",
    start: "top top",
    markers: true,
    scrub: 1,
    pin: true
    });

    //animation of the progress bar
    var rule = CSSRulePlugin.getRule(".progress_bar"); //get the rule
    tl4.to(rule, {cssRule: {borderColor: "white"}}, 
            ScrollTrigger.create({
            animation: tl4,
            trigger: "#home",
            endTrigger: "#intro",
            start: "top top",
            markers: true,
            scrub: 0.2
            }))
       .to(rule, {cssRule: {borderColor: "orange"}},
            ScrollTrigger.create({
            animation: tl4,
            trigger: "#intro",
            start: "top top",
            markers: true,
            scrub: 0.2
            }))
       .to(rule, {duration: 80, cssRule: {borderColor: "orange"}})
       .to(rule, {duration: 60, cssRule: {borderColor: "red"}})
       .to(rule, {duration: 40, cssRule: {borderColor: "blue"}})
       .to(rule, {duration: 40, cssRule: {borderColor: "blue"}})
       .to(rule, {duration: 40, cssRule: {borderColor: "blue"}})
       .to(rule, {duration: 40, cssRule: {borderColor: "orange"}});

       /*
    ScrollTrigger.create({
    animation: tl4,
    trigger: "#home",
    start: "top top",
    markers: true,
    scrub: 0.2,
//    pin: true
    });
*/

</script>